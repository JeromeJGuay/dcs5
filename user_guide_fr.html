<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="jerome.guay@dfo.mpo.gc.ca" />
  <title>Dcs5 Controller</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Dcs5 Controller</h1>
<p class="author">jerome.guay@dfo.mpo.gc.ca</p>
<p class="date">May 2023</p>
</header>
<nav id="TOC">
<ul>
<li><a href="#application-contrôleur-dcs5">Application contrôleur DCS5</a></li>
<li><a href="#télécharger-à-partir-des-versions">Télécharger à partir des versions</a><ul>
<li><a href="#configuration-requise-pour-installer-le-package-python.-pas-nécessaire-pour-utiliser-lapplication-en-tant-quapplication-autonome.">Configuration requise pour installer le package python. (Pas nécessaire pour utiliser l’application en tant qu’application autonome.)</a></li>
</ul></li>
<li><a href="#usage">Usage</a><ul>
<li><a href="#guide-dutilisation-en-français-pour-le-modèle-xt-userguide_fr.pdf.">Guide d’utilisation en français pour le modèle XT :<span>UserGuide_fr.pdf</span>.</a></li>
<li><a href="#planche-à-mesurer">Planche à mesurer</a></li>
<li><a href="#boîtier-de-commande">Boîtier de commande</a><ul>
<li><a href="#modèlext">Modèle:<code>xt</code></a></li>
<li><a href="#modèlemiro">Modèle:<code>miro</code></a></li>
<li><a href="#affichages-led">Affichages LED</a></li>
</ul></li>
<li><a href="#application">Application</a><ul>
<li><a href="#configurations">Configurations</a></li>
<li><a href="#connectez-la-carte-via-bluetooth">Connectez la carte via Bluetooth</a></li>
<li><a href="#étalonnage-1">Étalonnage</a></li>
<li><a href="#informations-complémentaires.">Informations Complémentaires.</a></li>
</ul></li>
<li><a href="#fichiers-de-configuration">Fichiers de configuration</a><ul>
<li><a href="#configuration-du-contrôleur">Configuration du contrôleur</a></li>
<li><a href="#spécification-de-lappareil">Spécification de l’appareil</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<h1 id="application-contrôleur-dcs5">Application contrôleur DCS5</h1>
<p>Cette application python (python 3.10) fournit une interface graphique pour interagir (GUI) avec une carte de mesure BigFin Dcs5 XT ou MICRO via Bluetooth. L’application transforme les entrées du stylet sur la carte de mesure en entrée au clavier, transformer essentiellement la carte de mesure dcs5 en un clavier sans fil. Une balance marine Marel peut également être connectée à l’application. Voir le projet<a href="https://github.com/iml-gddaiss/marel_marine_scale_controller">marel_marine_scale_controller</a>pour plus d’informations et comment configurer la balance.</p>
<h1 id="télécharger-à-partir-des-versions">Télécharger à partir des versions</h1>
<p>Téléchargement de l’application Dcs5 Controller à partir de la dernière version.</p>
<ol type="1">
<li>Télécharger<code>dcs5.zip</code>depuis la dernière version<a href="https://github.com/iml-gddaiss/dcs5/releases">ici</a>.</li>
<li>Décompresser<code>dcs5.zip</code></li>
<li>Courir<code>dcs5.exe</code></li>
</ol>
<h2 id="configuration-requise-pour-installer-le-package-python.-pas-nécessaire-pour-utiliser-lapplication-en-tant-quapplication-autonome.">Configuration requise pour installer le package python. (Pas nécessaire pour utiliser l’application en tant qu’application autonome.)</h2>
<ul>
<li>Python 3.10</li>
</ul>
<h1 id="usage">Usage</h1>
<h3 id="guide-dutilisation-en-français-pour-le-modèle-xt-userguide_fr.pdf.">Guide d’utilisation en français pour le modèle XT :<a href="doc/UserGuide_fr.pdf">UserGuide_fr.pdf</a>.</h3>
<h2 id="planche-à-mesurer">Planche à mesurer</h2>
<h4 id="zone-de-détection-du-stylet">Zone de détection du stylet</h4>
<p>Le stylet doit être placé dans la zone de détection. Le délai de détection est réglable dans la configuration (Voir section<a href="#configurations-files">Fichiers de configuration</a>). Les voyants du boîtier de commande clignotent lorsqu’une mesure est effectuée.</p>
<figure style="text-align: center;">
<img src='doc/images/planche_zone.png' width='742' alt="Board Detection Zone" style="background-color:gray;"/>
<figcaption>
Board Detection Zone
</figcaption>
</figure>
<h4 id="modes-de-sortie">Modes de sortie</h4>
<p>La carte de mesure dispose de 3 modes de sortie différents ;<strong>longueur</strong>,<strong>haut</strong>et<strong>bas</strong>. Le<strong>haut</strong>et<strong>bas</strong>mode sont utilisés pour accéder aux touches du haut et du bas en plaçant le stylet sur le cercle correspondant à l’intérieur de la zone de détection de la carte. Il y a 2 manières de changer la zone de détection ; en mappant les commandes sur les touches du boîtier de commande ou en définissant des régions de balayage sur le tableau.</p>
<p>La commande map pour passer à un mode de sortie spécifique ou pour parcourir les modes de sortie.</p>
<ul>
<li>Voir section<a href="#configurations-files">Fichiers de configuration</a>pour les commandes de mode de sortie.</li>
</ul>
<p>De plus, l’affichage LED par défaut du boîtier de commande change en fonction des modes de sortie.</p>
<ul>
<li>Voir section<a href="#leds-displays">Affichages LED</a>.</li>
</ul>
<h4 id="balayer-la-région">Balayer la région</h4>
<p>Commencer de gauche à droite dans une zone de balayage changera le mode de sortie. Les régions de balayage sont définies dans les fichiers de configuration. Par exemple, voici les régions de balayage par défaut pour le<code>xt</code>boîtier de commande.</p>
<figure style="text-align: center;">
<img src='doc/images/planche_swipe.png' width='741' alt="Board Swiping Zone"/>
<figcaption>
Default XT Swipe Zone
</figcaption>
</figure>
<p>The corresponding output modes are:</p>
<ul>
<li>Gauche droite :<strong>Longueur</strong></li>
<li>Bleu :<strong>Haut</strong></li>
<li>Vert:<strong>Bas</strong></li>
</ul>
<p>La définition de la carte dans le fichier de configuration est :</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb1-1" title="1">  <span class="fu">{</span><span class="dt">&quot;output_modes&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">      <span class="dt">&quot;segments_limits&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="dv">0</span><span class="ot">,</span> <span class="dv">230</span><span class="ot">,</span> <span class="dv">430</span><span class="ot">,</span> <span class="dv">630</span><span class="ot">,</span> <span class="dv">800</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-3" title="3">      <span class="dt">&quot;segments_mode&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;length&quot;</span><span class="ot">,</span> <span class="st">&quot;top&quot;</span><span class="ot">,</span> <span class="st">&quot;bottom&quot;</span><span class="ot">,</span> <span class="st">&quot;length&quot;</span><span class="ot">]</span></a>
<a class="sourceLine" id="cb1-4" title="4">      <span class="fu">}}</span></a></code></pre></div>
<ul>
<li>Voir section<a href="#device-specification">Spécification de l’appareil</a>pour plus d’informations sur la définition de la zone de balayage.</li>
</ul>
<h4 id="exemple-de-mesure">Exemple de mesure</h4>
<p>Les mesures sont effectuées en plaçant la tête du stylet à plat sur la carte dans la zone de détection. Vous pouvez modifier les paramètres de mesure/détection dans<a href="#controller-configuration">configuration du contrôleur</a>.</p>
<div style="text-align: center;">
<p><img src='doc/images/measure_example.png' width='740' alt="Board Measurement Example"/></p>
</div>
<h2 id="boîtier-de-commande">Boîtier de commande</h2>
<p>La seule différence entre le<code>xt</code>et<code>micro</code>Les modèles de boîtier de commande sont le nombre de touches et l’affichage LED et la séquence de clignotement.</p>
<h3 id="modèlext">Modèle:<code>xt</code></h3>
<ul>
<li>32 touches</li>
</ul>
<figure style="text-align: center;">
<img src='doc/images/dcs5_xt_control_box_annotated.png' width='350' alt="Xt Control Box"/>
<figcaption>
Xt Control Box
</figcaption>
</figure>
<h3 id="modèlemiro">Modèle:<code>miro</code></h3>
<ul>
<li>3 clés</li>
</ul>
<figure style="text-align: center;">
<img src='doc/images/dcs5_micro_control_box_annotated.png' width='350' alt="Micro Control Box"/>
<figcaption>
Micro Control Box
</figcaption>
</figure>
<h3 id="affichages-led">Affichages LED</h3>
<p>Différents modèles de LED sont affichés sur le boîtier de commande pour donner un retour aux utilisateurs.</p>
<ul>
<li>xt : JAUGE DE CARBURANT / ACTION barre led</li>
<li>micro : Anneau LED</li>
</ul>
<h4 id="mode-de-sortie">Mode de sortie</h4>
<p>Le modèle par défaut affiche le mode de sortie actuel.</p>
<figure style="text-align: center;">
<img src='doc/images/dcs5_led_output_mode.png' width='300' alt="Output Mode LED Display" style="background-color:gray;"/>
<figcaption>
Output Mode LED Display
</figcaption>
</figure>
<ul>
<li>T : Haut</li>
<li>L : Longueur</li>
<li>B : Bas</li>
</ul>
<h4 id="détection-du-stylet">Détection du stylet</h4>
<p>Le motif de led de suivi s’affiche lorsque la carte détecte le stylet.</p>
<figure style="text-align: center;">
<img src='doc/images/dcs5_led_detection.png' width='300' alt="Stylus Detection LED Display" style="background-color:gray;"/>
<figcaption>
Stylus Detection LED Display
</figcaption>
</figure>
<h4 id="measurements">Measurements</h4>
All the leds flash rapidly when a measurement is made. The default pattern displays the current output mode.
<figure style="text-align: center;">
<img src='doc/images/dcs5_led_measurements.png' width='300' alt="Measurement LED Display" style="background-color:gray;"/>
<figcaption>
Measurement LED Display
</figcaption>
</figure>
<h4 id="glisser">Glisser</h4>
<figure style="text-align: center;">
<img src='doc/images/dcs5_led_slide.png' width='300' alt="Swipe LED Display" style="background-color:gray;"/>
<figcaption>
Swipe LED Display
</figcaption>
</figure>
<ul>
<li>L : balayage de droite à gauche</li>
<li>R : Balayage de gauche à droite</li>
</ul>
<h4 id="étalonnage">Étalonnage</h4>
<p>En mode d’étalonnage, l’affichage par défaut passe à</p>
<figure style="text-align: center;">
<img src='doc/images/dcs5_led_calibration_mode.png' width='300' alt="Calibration Mode LED Display" style="background-color:gray;"/>
<figcaption>
Calibration Mode LED Display
</figcaption>
</figure>
<p>Ensuite, une fois le stylet posé, les leds s’allumeront lentement dans les séquences suivantes. Lorsque le point est calibré avec succès, toutes les leds clignotent rapidement.</p>
<figure style="text-align: center;">
<img src='doc/images/dcs5_led_calibration.png' width='300' alt="Calibration LED Display" style="background-color:gray;"/>
<figcaption>
Calibration LED Display
</figcaption>
</figure>
<h2 id="application">Application</h2>
<h3 id="configurations">Configurations</h3>
<p>L’application nécessite une configuration pour fonctionner. Pour charger et gérer la configuration, cliquez sur<strong>Dcs5 &gt; Paramétrage</strong>dans la barre supérieure.</p>
<figure style="text-align: center;">
<img src='doc/images/dcs5_gui_menu.png' width='203' alt="Application Menu Widget"/>
<figcaption>
Application Menu Widget
</figcaption>
</figure>
<p>Du_Configuration_fenêtre, vous pouvez créer<strong>Nouveau</strong>,<strong>Charger</strong>,<strong>Supprimer</strong>et<strong>Modifier</strong>configurations.</p>
<figure style="text-align: center;">
<img src='doc/images/dcs5_gui_config_menu.png' width='536' alt="Config Window"/>
<figcaption>
Config Window
</figcaption>
</figure>
<h4 id="nouvelle-configuration">Nouvelle configuration</h4>
<p>Des configurations par défaut sont fournies pour le<code>xt</code>et<code>micro</code>des modèles. Sélectionnez le modèle de boîtier de commande (xt ou micro) et saisissez un nom pour la nouvelle configuration.</p>
<figure style="text-align: center;">
<img src='doc/images/dcs5_gui_new_config.png' width='331' alt="New Config Window"/>
<figcaption>
New Config Window
</figcaption>
</figure>
<p>L’adresse Bluetooth du contrôleur (adresse MAC) devra être changée une fois qu’une nouvelle configuration est créée. Sélectionnez la configuration et le<code>Controller Configuration</code>déposer et appuyer<strong>Modifier</strong>. Dans le fichier json, modifiez la valeur suivante :</p>
<ul>
<li><code>client -&gt; mac_address</code></li>
</ul>
<p>Voir section<a href="#configurations-files">Fichiers de configuration</a>pour plus d’informations sur les différents paramètres de configuration.</p>
<h3 id="connectez-la-carte-via-bluetooth">Connectez la carte via Bluetooth</h3>
<p>Pour se connecter à la carte de mesure Dcs5, l’adresse Board Mac (bluetooth) doit être spécifiée dans le_Configuration du contrôleur_déposer. Vous pouvez modifier le fichier via le menu de configuration (voir les sections<a href="#configurations">Configurations</a>et<a href="#controller-configuration">Configuration du contrôleur</a>)</p>
<p>Ensuite, vous devez vous connecter puis activer la carte en appuyant sur le<strong>Connecter</strong>et<strong>Activer</strong>bouton.</p>
<figure style="text-align: center;">
<img src='doc/images/dcs5_gui_connect.png' width='365' alt="Connect Widget"/>
<figcaption>
Connect Widget
</figcaption>
</figure>
<p>Le cercle rouge à côté du<strong>Connecter</strong>le bouton se transformera en triangle jaune pendant que l’application tente de se connecter à la carte, puis dans un vert lorsqu’elle est connectée.</p>
<figure style="text-align: center;">
<img src='doc/images/dcs5_gui_activate.png' width='371' alt="Activate Widget"/>
<figcaption>
Activate Widget
</figcaption>
</figure>
<p>Les cercles rouges à côté du<strong>Activer</strong>Le bouton deviendra également vert lorsque l’application et la carte seront prêtes à être utilisées. Lors de l’activation de la carte, l’application se synchronisera avec le boîtier de commande de la carte. (Voir la rubrique<a href="#additional-information">Fonctionnalités supplémentaires de l’interface graphique</a>). L’application essaiera de se synchroniser avec le boîtier de commande de la carte lors de l’activation. L’application et la carte sont synchronisées lorsque l’application reçoit des confirmations que les paramètres internes de la carte (principalement ceux liés à la détection du stylet) sont les mêmes que ceux spécifiés dans les fichiers de configuration. Si la synchronisation a échoué, indiqué par un cercle rouge à côté du<strong>Synchroniser</strong>bouton, vous pouvez appuyer sur le<strong>Synchroniser</strong>bouton pour réessayer. Si cela ne fonctionne toujours pas, essayez de redémarrer la carte et l’application.</p>
<h3 id="étalonnage-1">Étalonnage</h3>
<p>La carte doit être calibrée à l’aide de deux points de calibrage. Bien que l’étalonnage soit linéaire, gardez à l’esprit que le stylet a une épaisseur non uniforme qui compensera, dans une certaine mesure, les valeurs mesurées si l’orientation du stylet diffère lors de la mesure par rapport à l’étalonnage. Nous vous recommandons d’utiliser la plus petite partie du stylet pour effectuer le calibrage puis ajouter<code>offset</code>dans les fichiers d’étalonnage de chaque stylet.</p>
<ul>
<li>Voir section<a href="#device-specification">Spécification de l’appareil</a>.</li>
</ul>
<p>Pour calibrer la carte, cliquez sur<strong>Réglez Cal. Pts.</strong></p>
<figure style="text-align: center;">
<img src='doc/images/dcs5_gui_calibration_frame.png' width='359' alt="Calibration Widget"/>
<figcaption>
Calibration Widget
</figcaption>
</figure>
<p>Dans la fenêtre des points d’étalonnage, définissez les deux points d’étalonnage en mm.</p>
<figure style="text-align: center;">
<img src='doc/images/dcs5_gui_set_calibration_pts.png' width='239' alt="Calibration Set. Cal. Pts. Window"/>
<figcaption>
Calibration Set. Cal. Pts. Window
</figcaption>
</figure>
<p>appuie sur le<strong>Étalonner</strong>bouton pour entrer dans le mode de calibrage, à partir de là, suivez les instructions données par l’application. Notez qu’un balayage de droite à gauche permet de quitter le mode d’étalonnage. Pour chaque point d’étalonnage, la progression de l’étalonnage sera indiquée par les LED suivantes<a href="#calibration">afficher</a>une fois le stylet posé. Si le stylet est trop levé ou déplacé avant que le calibrage ne soit terminé, le calibrage redémarre.</p>
<h3 id="informations-complémentaires.">Informations Complémentaires.</h3>
<h4 id="onglet-dcs5">Onglet DCS5</h4>
<figure style="text-align: center;">
<img src='doc/images/dcs5_gui_main_annotated.png' width='700' alt="Application Window"/>
<figcaption>
Application Window
</figcaption>
</figure>
<h4 id="onglet-échelle-marel">Onglet Échelle Marel</h4>
<figure style="text-align: center;">
<img src='doc/images/dcs5_gui_marel_annotated.png' width='700' alt="Applicaiton Marel Widget"/>
<figcaption>
Application Marel Widget
</figcaption>
</figure>
<h2 id="fichiers-de-configuration">Fichiers de configuration</h2>
<p>Les configurations sont créées et modifiées via l’interface graphique de l’application (voir la section<a href="#configurations">configuration</a>). Une configuration est composée de deux fichiers json qui sont utilisés pour modifier le comportement du contrôleur et de la carte de mesure.</p>
<ul>
<li><a href="#controller-configuration">configuration du contrôleur</a></li>
<li><a href="#device-specification">device_specification</a></li>
</ul>
<h3 id="configuration-du-contrôleur">Configuration du contrôleur</h3>
<p>Défaut<code>xt</code>déposer:<a href="dcs5/default_configs/xt_controller_configuration.json">xt_controller_configuration.json</a></p>
<p>Défaut<code>micro</code>déposer:<a href="dcs5/default_configs/micro_controller_configuration.json">micro_controller_configuration.json</a></p>
<p>Usage:</p>
<ul>
<li><p>client : Informations Bluetooth sur la carte de mesure.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb2-1" title="1">  <span class="fu">{</span><span class="dt">&quot;client&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">      <span class="dt">&quot;device_name&quot;</span><span class="fu">:</span> <span class="st">&quot;BigFinDCS5-E5FE&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-3" title="3">      <span class="dt">&quot;mac_address&quot;</span><span class="fu">:</span> <span class="st">&quot;00:06:66:89:E5:FE&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-4" title="4">      <span class="dt">&quot;marel_ip_address&quot;</span><span class="fu">:</span> <span class="st">&quot;192.168.0.202&quot;</span></a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="fu">}}</span></a></code></pre></div>
<ul>
<li>device_name : nom de l’appareil. (Seulement utilisé pour afficher dans l’application.)</li>
<li>mac_address : adresse Bluetooth (mac) de la carte de mesure, c’est-à-dire<strong>00:06 : I : coupe : frère : dans</strong>.</li>
<li>marel_ip_address : adresse IP de la balance Marel (voir<a href="https://github.com/iml-gddaiss/marel_marine_scale_controller">marel_marine_scale_controller</a>).</li>
</ul></li>
<li><p>launch_settings : paramètre utilisé au lancement de l’application.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb3-1" title="1">      <span class="fu">{</span><span class="dt">&quot;launch_settings&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">      <span class="dt">&quot;output_mode&quot;</span><span class="fu">:</span> <span class="st">&quot;length&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-3" title="3">      <span class="dt">&quot;reading_profile&quot;</span><span class="fu">:</span> <span class="st">&quot;measure&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-4" title="4">      <span class="dt">&quot;dynamic_stylus_mode&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-5" title="5">      <span class="dt">&quot;backlighting_level&quot;</span><span class="fu">:</span> <span class="dv">95</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-6" title="6">      <span class="dt">&quot;length_units&quot;</span><span class="fu">:</span> <span class="st">&quot;mm&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-7" title="7">      <span class="dt">&quot;stylus&quot;</span><span class="fu">:</span> <span class="st">&quot;pen&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-8" title="8">      <span class="dt">&quot;auto_enter&quot;</span><span class="fu">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb3-9" title="9">      <span class="fu">}}</span></a></code></pre></div>
<ul>
<li>output_mode : haut, longueur ou bas.</li>
<li>reading_profile : Nom (clé) du profil. Les profils de lecture sont définis ci-dessous.</li>
<li>dynamic_stylus_mode : (vrai/faux) Si vrai, les profils de lecture changeront pour chaque mode de sortie, comme défini dans la section suivante.</li>
<li>backlight_level : (0-95) Intensité du rétroéclairage</li>
<li>length_units : unités des valeurs de mesure soit<strong>cm</strong>ou<strong>millimètre</strong></li>
<li>stylet : nom du stylet utilisé. Doit être défini dans le<a href="#device-specification">spécifications_appareils</a>déposer.</li>
<li>auto_enter : appuyez automatiquement sur la touche_entrer_après l’impression d’une valeur de longueur ou de poids.</li>
</ul></li>
<li><p>lecture_profils :</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb4-1" title="1">  <span class="fu">{</span><span class="dt">&quot;reading_profiles&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">      <span class="dt">&quot;measure&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb4-3" title="3">          <span class="dt">&quot;settling_delay&quot;</span><span class="fu">:</span> <span class="dv">9</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-4" title="4">          <span class="dt">&quot;number_of_reading&quot;</span><span class="fu">:</span> <span class="dv">50</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-5" title="5">          <span class="dt">&quot;max_deviation&quot;</span><span class="fu">:</span> <span class="dv">50</span></a>
<a class="sourceLine" id="cb4-6" title="6">      <span class="fu">}}}</span></a></code></pre></div>
<ul>
<li>settling_delay : (0-20) Délai après la première détection du stylet. (pas des secondes)</li>
<li>number_of_reading : nombre de lectures nécessaires pour une bonne mesure.</li>
<li>max_deviation : (1-100) Quantité d’écart autorisée entre chaque lecture._Remarques : Pour plus d’informations :<a href="doc/Big-Fin-Scientific-Fish-Board-Integration-Guide-V2_0.pdf">guide_utilisateur/Big-Fin-Scientific-Fish-Board-Integration-Guide-V2_0.pdf</a>_</li>
</ul></li>
<li><p>modes_sortie :</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb5-1" title="1">  <span class="fu">{</span><span class="dt">&quot;output_modes&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb5-2" title="2">      <span class="dt">&quot;swipe_threshold&quot;</span><span class="fu">:</span> <span class="dv">5</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-3" title="3">      <span class="dt">&quot;segments_limits&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="dv">0</span><span class="ot">,</span> <span class="dv">230</span><span class="ot">,</span> <span class="dv">430</span><span class="ot">,</span> <span class="dv">630</span><span class="ot">,</span> <span class="dv">800</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-4" title="4">      <span class="dt">&quot;segments_mode&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;length&quot;</span><span class="ot">,</span> <span class="st">&quot;top&quot;</span><span class="ot">,</span> <span class="st">&quot;bottom&quot;</span><span class="ot">,</span> <span class="st">&quot;length&quot;</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-5" title="5">      <span class="dt">&quot;mode_reading_profiles&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb5-6" title="6">          <span class="dt">&quot;top&quot;</span><span class="fu">:</span> <span class="st">&quot;key&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-7" title="7">          <span class="dt">&quot;length&quot;</span><span class="fu">:</span> <span class="st">&quot;measure&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-8" title="8">          <span class="dt">&quot;bottom&quot;</span><span class="fu">:</span> <span class="st">&quot;key&quot;</span></a>
<a class="sourceLine" id="cb5-9" title="9">      <span class="fu">}</span></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="fu">}}</span></a></code></pre></div>
<ul>
<li>Seuil de balayage : distance minimale (mm) pour qu’un balayage de stylet soit valide.</li>
<li>segments_limits : définit les limites (mm) des différents segments de balayage.</li>
<li>segments_mode : Le output_mode correspondant pour chaque segment de balayage.</li>
<li>mode_reading_profiles : les profils de lecture correspondants pour chaque mode de sortie.</li>
</ul></li>
<li><p>keys_maps (voir<a href="#key-mapping">Mappage des clés</a>section):</p>
<p>Des champs:<code>control_box</code>,<code>control_box_mode</code>,<code>board</code>,<code>board_mode</code></p>
<ul>
<li>Une touche peut être associée à des commandes ou à des entrées au clavier.</li>
<li>Une carte peut être une liste de commandes ou d’entrées au clavier qui sont exécutées une par une.</li>
<li>Une touche peut avoir deux mappages : un par défaut et un mappage alternatif (mode).</li>
</ul></li>
</ul>
<h4 id="mappage-des-clés">Mappage des clés</h4>
<p>Les noms des clés sont définis dans<a href="dcs5/default_configs/xt_devices_specification.json">devices_specification.json</a>.</p>
<p>Commandes :</p>
<ul>
<li><code>"BACKLIGHT_UP", "BACKLIGHT_DOWN"</code>: Modifier le niveau de rétroéclairage du boîtier de commande.</li>
<li><code>"CHANGE_STYLUS"</code>: Parcourir la liste des stylets définis dans le<a href="#device-specification">spécifications_appareils</a>déposer.</li>
<li><code>"UNITS_mm", "UNITS_cm"</code>: Modifier les unités de sortie.</li>
<li><code>"MODE_TOP", "MODE_LENGTH", "MODE_BOTTOM"</code>: Changez le mode de sortie.</li>
<li><code>"CHANGE_OUTPUT_MODE"</code>: Faire défiler le mode de sortie (TOP, LENGTH, BOTTOM).</li>
<li><code>"MODE"</code>: Accéder au mappage (mode) alternatif (<code>control_box_mode</code>,<code>board_mode</code>).</li>
<li><code>"WEIGHT"</code>: Imprime le poids mesuré par la balance Marel (si connectée).</li>
<li><code>"DELETE_LAST</code>: Supprimer la dernière valeur imprimée.</li>
<li><p><code>"PRINT &lt;string to print&gt;"]</code>: Imprime le<code>&lt;string to print&gt;</code>valeur. Saisie valide au clavier (Source :<a href="https://pyautogui.readthedocs.io/en/latest/">Pya Uto manger</a>):</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb6-1" title="1">[<span class="st">&#39;</span><span class="ch">\t</span><span class="st">&#39;</span>, <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>, <span class="st">&#39;</span><span class="ch">\r</span><span class="st">&#39;</span>, <span class="st">&#39; &#39;</span>, <span class="st">&#39;!&#39;</span>, <span class="st">&#39;&quot;&#39;</span>, <span class="st">&#39;#&#39;</span>, <span class="st">&#39;$&#39;</span>, <span class="st">&#39;%&#39;</span>, <span class="st">&#39;&amp;&#39;</span>, <span class="st">&quot;&#39;&quot;</span>,</a>
<a class="sourceLine" id="cb6-2" title="2"><span class="st">&#39;(&#39;</span>, <span class="st">&#39;)&#39;</span>, <span class="st">&#39;*&#39;</span>, <span class="st">&#39;+&#39;</span>, <span class="st">&#39;,&#39;</span>, <span class="st">&#39;-&#39;</span>, <span class="st">&#39;.&#39;</span>, <span class="st">&#39;/&#39;</span>, <span class="st">&#39;{&#39;</span>, <span class="st">&#39;|&#39;</span>, <span class="st">&#39;}&#39;</span>, <span class="st">&#39;~&#39;</span>,</a>
<a class="sourceLine" id="cb6-3" title="3"><span class="st">&#39;:&#39;</span>, <span class="st">&#39;;&#39;</span>, <span class="st">&#39;&lt;&#39;</span>, <span class="st">&#39;=&#39;</span>, <span class="st">&#39;&gt;&#39;</span>, <span class="st">&#39;?&#39;</span>, <span class="st">&#39;@&#39;</span>, <span class="st">&#39;[&#39;</span>, <span class="st">&#39;</span><span class="ch">\\</span><span class="st">&#39;</span>, <span class="st">&#39;]&#39;</span>, <span class="st">&#39;^&#39;</span>, <span class="st">&#39;_&#39;</span>, <span class="st">&#39;`&#39;</span>,</a>
<a class="sourceLine" id="cb6-4" title="4"><span class="st">&#39;0&#39;</span>, <span class="st">&#39;1&#39;</span>, <span class="st">&#39;2&#39;</span>, <span class="st">&#39;3&#39;</span>, <span class="st">&#39;4&#39;</span>, <span class="st">&#39;5&#39;</span>, <span class="st">&#39;6&#39;</span>, <span class="st">&#39;7&#39;</span>, <span class="st">&#39;8&#39;</span>, <span class="st">&#39;9&#39;</span>,</a>
<a class="sourceLine" id="cb6-5" title="5"><span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>, <span class="st">&#39;d&#39;</span>, <span class="st">&#39;e&#39;</span>, <span class="st">&#39;f&#39;</span>, <span class="st">&#39;g&#39;</span>, <span class="st">&#39;h&#39;</span>, <span class="st">&#39;i&#39;</span>, <span class="st">&#39;j&#39;</span>, <span class="st">&#39;k&#39;</span>, <span class="st">&#39;l&#39;</span>, <span class="st">&#39;m&#39;</span>, <span class="st">&#39;n&#39;</span>, <span class="st">&#39;o&#39;</span>,</a>
<a class="sourceLine" id="cb6-6" title="6"><span class="st">&#39;p&#39;</span>, <span class="st">&#39;q&#39;</span>, <span class="st">&#39;r&#39;</span>, <span class="st">&#39;s&#39;</span>, <span class="st">&#39;t&#39;</span>, <span class="st">&#39;u&#39;</span>, <span class="st">&#39;v&#39;</span>, <span class="st">&#39;w&#39;</span>, <span class="st">&#39;x&#39;</span>, <span class="st">&#39;y&#39;</span>, <span class="st">&#39;z&#39;</span>,</a>
<a class="sourceLine" id="cb6-7" title="7"><span class="st">&#39;A&#39;</span>, <span class="st">&#39;B&#39;</span>, <span class="st">&#39;C&#39;</span>, <span class="st">&#39;D&#39;</span>, <span class="st">&#39;E&#39;</span>, <span class="st">&#39;F&#39;</span>, <span class="st">&#39;G&#39;</span>, <span class="st">&#39;H&#39;</span>, <span class="st">&#39;I&#39;</span>, <span class="st">&#39;J&#39;</span>, <span class="st">&#39;K&#39;</span>, <span class="st">&#39;L&#39;</span>, <span class="st">&#39;M&#39;</span>, <span class="st">&#39;N&#39;</span>, <span class="st">&#39;O&#39;</span>,</a>
<a class="sourceLine" id="cb6-8" title="8"><span class="st">&#39;P&#39;</span>, <span class="st">&#39;Q&#39;</span>, <span class="st">&#39;R&#39;</span>, <span class="st">&#39;S&#39;</span>, <span class="st">&#39;T&#39;</span>, <span class="st">&#39;U&#39;</span>, <span class="st">&#39;V&#39;</span>, <span class="st">&#39;W&#39;</span>, <span class="st">&#39;X&#39;</span>, <span class="st">&#39;Y&#39;</span>, <span class="st">&#39;Z&#39;</span></a>
<a class="sourceLine" id="cb6-9" title="9"><span class="st">&#39;accept&#39;</span>, <span class="st">&#39;add&#39;</span>, <span class="st">&#39;alt&#39;</span>, <span class="st">&#39;altleft&#39;</span>, <span class="st">&#39;altright&#39;</span>, <span class="st">&#39;apps&#39;</span>, <span class="st">&#39;backspace&#39;</span>,</a>
<a class="sourceLine" id="cb6-10" title="10"><span class="st">&#39;browserback&#39;</span>, <span class="st">&#39;browserfavorites&#39;</span>, <span class="st">&#39;browserforward&#39;</span>, <span class="st">&#39;browserhome&#39;</span>,</a>
<a class="sourceLine" id="cb6-11" title="11"><span class="st">&#39;browserrefresh&#39;</span>, <span class="st">&#39;browsersearch&#39;</span>, <span class="st">&#39;browserstop&#39;</span>, <span class="st">&#39;capslock&#39;</span>, <span class="st">&#39;clear&#39;</span>,</a>
<a class="sourceLine" id="cb6-12" title="12"><span class="st">&#39;convert&#39;</span>, <span class="st">&#39;ctrl&#39;</span>, <span class="st">&#39;ctrlleft&#39;</span>, <span class="st">&#39;ctrlright&#39;</span>, <span class="st">&#39;decimal&#39;</span>, <span class="st">&#39;del&#39;</span>, <span class="st">&#39;delete&#39;</span>,</a>
<a class="sourceLine" id="cb6-13" title="13"><span class="st">&#39;divide&#39;</span>, <span class="st">&#39;down&#39;</span>, <span class="st">&#39;end&#39;</span>, <span class="st">&#39;enter&#39;</span>, <span class="st">&#39;esc&#39;</span>, <span class="st">&#39;escape&#39;</span>, <span class="st">&#39;execute&#39;</span>, <span class="st">&#39;f1&#39;</span>, <span class="st">&#39;f10&#39;</span>,</a>
<a class="sourceLine" id="cb6-14" title="14"><span class="st">&#39;f11&#39;</span>, <span class="st">&#39;f12&#39;</span>, <span class="st">&#39;f13&#39;</span>, <span class="st">&#39;f14&#39;</span>, <span class="st">&#39;f15&#39;</span>, <span class="st">&#39;f16&#39;</span>, <span class="st">&#39;f17&#39;</span>, <span class="st">&#39;f18&#39;</span>, <span class="st">&#39;f19&#39;</span>, <span class="st">&#39;f2&#39;</span>, <span class="st">&#39;f20&#39;</span>,</a>
<a class="sourceLine" id="cb6-15" title="15"><span class="st">&#39;f21&#39;</span>, <span class="st">&#39;f22&#39;</span>, <span class="st">&#39;f23&#39;</span>, <span class="st">&#39;f24&#39;</span>, <span class="st">&#39;f3&#39;</span>, <span class="st">&#39;f4&#39;</span>, <span class="st">&#39;f5&#39;</span>, <span class="st">&#39;f6&#39;</span>, <span class="st">&#39;f7&#39;</span>, <span class="st">&#39;f8&#39;</span>, <span class="st">&#39;f9&#39;</span>,</a>
<a class="sourceLine" id="cb6-16" title="16"><span class="st">&#39;final&#39;</span>, <span class="st">&#39;fn&#39;</span>, <span class="st">&#39;hanguel&#39;</span>, <span class="st">&#39;hangul&#39;</span>, <span class="st">&#39;hanja&#39;</span>, <span class="st">&#39;help&#39;</span>, <span class="st">&#39;home&#39;</span>, <span class="st">&#39;insert&#39;</span>, <span class="st">&#39;junja&#39;</span>,</a>
<a class="sourceLine" id="cb6-17" title="17"><span class="st">&#39;kana&#39;</span>, <span class="st">&#39;kanji&#39;</span>, <span class="st">&#39;launchapp1&#39;</span>, <span class="st">&#39;launchapp2&#39;</span>, <span class="st">&#39;launchmail&#39;</span>,</a>
<a class="sourceLine" id="cb6-18" title="18"><span class="st">&#39;launchmediaselect&#39;</span>, <span class="st">&#39;left&#39;</span>, <span class="st">&#39;modechange&#39;</span>, <span class="st">&#39;multiply&#39;</span>, <span class="st">&#39;nexttrack&#39;</span>,</a>
<a class="sourceLine" id="cb6-19" title="19"><span class="st">&#39;nonconvert&#39;</span>, <span class="st">&#39;num0&#39;</span>, <span class="st">&#39;num1&#39;</span>, <span class="st">&#39;num2&#39;</span>, <span class="st">&#39;num3&#39;</span>, <span class="st">&#39;num4&#39;</span>, <span class="st">&#39;num5&#39;</span>, <span class="st">&#39;num6&#39;</span>,</a>
<a class="sourceLine" id="cb6-20" title="20"><span class="st">&#39;num7&#39;</span>, <span class="st">&#39;num8&#39;</span>, <span class="st">&#39;num9&#39;</span>, <span class="st">&#39;numlock&#39;</span>, <span class="st">&#39;pagedown&#39;</span>, <span class="st">&#39;pageup&#39;</span>, <span class="st">&#39;pause&#39;</span>, <span class="st">&#39;pgdn&#39;</span>,</a>
<a class="sourceLine" id="cb6-21" title="21"><span class="st">&#39;pgup&#39;</span>, <span class="st">&#39;playpause&#39;</span>, <span class="st">&#39;prevtrack&#39;</span>, <span class="st">&#39;print&#39;</span>, <span class="st">&#39;printscreen&#39;</span>, <span class="st">&#39;prntscrn&#39;</span>,</a>
<a class="sourceLine" id="cb6-22" title="22"><span class="st">&#39;prtsc&#39;</span>, <span class="st">&#39;prtscr&#39;</span>, <span class="st">&#39;return&#39;</span>, <span class="st">&#39;right&#39;</span>, <span class="st">&#39;scrolllock&#39;</span>, <span class="st">&#39;select&#39;</span>, <span class="st">&#39;separator&#39;</span>,</a>
<a class="sourceLine" id="cb6-23" title="23"><span class="st">&#39;shift&#39;</span>, <span class="st">&#39;shiftleft&#39;</span>, <span class="st">&#39;shiftright&#39;</span>, <span class="st">&#39;sleep&#39;</span>, <span class="st">&#39;space&#39;</span>, <span class="st">&#39;stop&#39;</span>, <span class="st">&#39;subtract&#39;</span>, <span class="st">&#39;tab&#39;</span>,</a>
<a class="sourceLine" id="cb6-24" title="24"><span class="st">&#39;up&#39;</span>, <span class="st">&#39;volumedown&#39;</span>, <span class="st">&#39;volumemute&#39;</span>, <span class="st">&#39;volumeup&#39;</span>, <span class="st">&#39;win&#39;</span>, <span class="st">&#39;winleft&#39;</span>, <span class="st">&#39;winright&#39;</span>, <span class="st">&#39;yen&#39;</span>,</a>
<a class="sourceLine" id="cb6-25" title="25"><span class="st">&#39;command&#39;</span>, <span class="st">&#39;option&#39;</span>, <span class="st">&#39;optionleft&#39;</span>, <span class="st">&#39;optionright&#39;</span>]</a></code></pre></div></li>
</ul>
<h3 id="spécification-de-lappareil">Spécification de l’appareil</h3>
<p>Fichier par défaut :<a href="dcs5/default_configs/xt_devices_specification.json">devices_specification.json</a></p>
<p>Usage:</p>
<ul>
<li><p>conseil:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb7-1" title="1"> <span class="fu">{</span><span class="dt">&quot;board&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb7-2" title="2">          <span class="dt">&quot;number_of_keys&quot;</span><span class="fu">:</span> <span class="dv">49</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-3" title="3">          <span class="dt">&quot;key_to_mm_ratio&quot;</span><span class="fu">:</span> <span class="fl">15.385</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-4" title="4">          <span class="dt">&quot;zero&quot;</span><span class="fu">:</span> <span class="fl">-3.695</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-5" title="5">          <span class="dt">&quot;detection_range&quot;</span><span class="fu">:</span> <span class="dv">2</span><span class="fu">}</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="fu">}</span></a></code></pre></div>
<ul>
<li>number_of_keys : les clés correspondent au cercle gris sur le tableau.</li>
<li>key_to_mm_ratio : La distance en mm d’un bord d’un cercle (le plus grand) au suivant.</li>
<li>zéro : La distance (mm) qui serait la touche 0 étant donné que la première touche du tableau est la touche 1.</li>
<li>detection_range : Décalage à gauche en mm pour la détection du stylet.</li>
<li>keys_layout : listes ordonnées pour le nom des touches du haut et pour les touches du bas. Ces noms sont utilisés pour mapper la commande.
<ul>
<li>Haut:</li>
<li>Bas:</li>
</ul></li>
</ul>
<em>Remarques : Les deux listes (haut et bas) ne doivent pas contenir de noms identiques.</em></li>
<li>boîtier de commande:
<ul>
<li>modèle : Modèle du boîtier de commande. Soit<strong>XT</strong>ou<strong>micro</strong>.</li>
<li>keys_layout : Mappage de l’identifiant intégré de la clé de la boîte de contrôleur sur un nom significatif. Ces noms sont utilisés pour mapper la commande.</li>
</ul></li>
<li>stylus_offset : décalage en mm qui s’ajoute à la valeur mesurée par la carte.
<ul>
<li>Remarque : Ces valeurs dépendent de l’étalonnage.</li>
</ul></li>
</ul>
</body>
</html>
